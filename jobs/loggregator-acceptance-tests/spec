---
name: loggregator-acceptance-tests

description: "The loggregator acceptance tests."

packages:
  - golang1.9.1
  - loggregator-acceptance-tests
templates:
  run.erb: bin/run
  config.json.erb: bin/config.json

consumes:
- name: trafficcontroller
  type: trafficcontroller
- name: reverse_log_proxy
  type: reverse_log_proxy

properties:
  ssl.skip_cert_verify:
    description: ""
  metron_agent.dropsonde_incoming_port:
    description: "port for tests to send metrics to metron"

  loggregator_acceptance_tests.login_required:
    description: ""
  loggregator_acceptance_tests.admin_user:
    description: ""
  loggregator_acceptance_tests.admin_password:
    description: ""
  loggregator_acceptance_tests.bosh_dns:
    description: Enable Bosh DNS. Disabling this implies Consul DNS.
    default: false

  traffic_controller.disable_access_control:
    description: "Disable UAA/CC auth in traffic controller.  This **MUST** be set to true in the manifest for LATs to work."
    default: false

  reverse_log_proxy.addr:
    description: "The address of the RLP if bosh DNS is not enabled."
    default: reverse-log-proxy.service.cf.internal:8082
